var answersResDefined,answersUtilDefined;Answers=Answers||{};answersResDefined=typeof Answers.Res!="undefined";Answers.MetadataSelector={MetaTreeCache:{},CurrentMetaTree:null,CurrentMetaMap:{},CurrentMetaValues:{},PreSelected:{},UniqueAqIds:[],EnableAdditionalFilters:!0,DefaultOptionText:"",FiltersLoadTimes:0,OnFiltersLoaded:null,DisplayRequiredAsterisk:!0,IsFilterOptional:!1,IsLevel2FilterOptional:!1,DisplayAqAutocomplete:!1,NotApplicableOptionShortName:"course_na",AllowTelemetry:!1,AqControlType:{DropDownListBox:1,AutoCompleteTextBox:2},GetFilters:function(n,t,i,r,u,f,e,o){var s,h,c;return n===null||n===""?(e&&e(),null):(f===null&&(f=Answers.MetadataSelector.AqControlType.DropDownListBox),s=answersResDefined?Answers.Res.ForumsWithAqAutoComplete:"",s!==null&&s.length>0&&s.indexOf(n)>-1&&f===Answers.MetadataSelector.AqControlType.AutoCompleteTextBox?(Answers.MetadataSelector.EnableAdditionalFilters=!0,Answers.MetadataSelector.DisplayAqAutocomplete=!0,$.ajax({url:Answers.Res.ThreadList.KendoAutoCompeteJSUrl,dataType:"script",cache:!0}),$("link[href='"+Answers.Res.ThreadList.KendoAutoCompeteCssUrl+"']").length||$("<link href='"+Answers.Res.ThreadList.KendoAutoCompeteCssUrl+"' rel='stylesheet'>").appendTo("head")):(Answers.MetadataSelector.EnableAdditionalFilters=i,Answers.MetadataSelector.DisplayAqAutocomplete=!1),t&&t!==""&&$.each(t.split(","),function(n,t){var i=t.split("=");Answers.MetadataSelector.PreSelected[i[0]]=i[1]}),Answers.MetadataSelector.IsFilterOptional=r||!1,Answers.MetadataSelector.IsLevel2FilterOptional=u||Answers.MetadataSelector.IsFilterOptional,h=Answers.MetadataSelector.MetaTreeCache[n],h)?(Answers.MetadataSelector.BuildFilters(h,o),e&&e(),null):(c="read",$("#content-operation-type")&&(c=$("#content-operation-type").val()),answersResDefined?$.ajax({url:Answers.Res.ThreadList.ForumThreadListFilterUrl,type:"GET",data:{forumName:n,contentOperationType:c},success:function(t){Answers.MetadataSelector.MetaTreeCache[n]=t;Answers.MetadataSelector.BuildFilters(t,o);e&&e()},error:function(){Answers.MetadataSelector.MetaTreeCache[n]=null;Answers.MetadataSelector.BuildFilters(null,o);e&&e()}}):undefined)},BuildFilters:function(n,t){if(t?$("div.scopebox",t).remove():$("div.scopebox").remove(),!n||n.length===0||n[0].ShortName===null){Answers.MetadataSelector.FiltersLoadTimes++;Answers.MetadataSelector.OnFiltersLoaded&&Answers.MetadataSelector.OnFiltersLoaded(Answers.MetadataSelector.FiltersLoadTimes);return}var i={},r={};Answers.MetadataSelector.TraverseMetaDataTree(n[0],0,function(n){var t,u;if(r[n.Id]||(r[n.Id]=n),n.Type===4){for(t=n.ParentId,i[t]||(i[t]=[]),u=0;u<i[t].length;u++)if(i[t][u].Id===n.Id)return!0;i[t].push(n)}return!0});Answers.MetadataSelector.CurrentMetaMap=r;Answers.MetadataSelector.CurrentMetaValues=i;Answers.MetadataSelector.CurrentMetaTree=n[0];Answers.MetadataSelector.BuildListControl(n[0],!0,!0,t);Answers.MetadataSelector.FiltersLoadTimes++;Answers.MetadataSelector.OnFiltersLoaded&&Answers.MetadataSelector.OnFiltersLoaded(Answers.MetadataSelector.FiltersLoadTimes)},BuildListControl:function(n,t,r,u){var l,h,v,y,e,a;if(n.Level===2)for(Answers.MetadataSelector.UniqueAqIds=[],l=!1,i=0;i<n.Children.length;i++)if(h="",n.Children[i].Children.length>0)for(j=0;j<n.Children[i].Children.length;j++)h=n.Children[i].Children[j].Id,Answers.MetadataSelector.UniqueAqIds.indexOf(h)===-1&&Answers.MetadataSelector.UniqueAqIds.push(h);else l||(Answers.MetadataSelector.UniqueAqIds.push("dummy-id"),l=!0);if(Answers.MetadataSelector.RemoveAutoCompleteList(),n.Level>=4){if(!Answers.MetadataSelector.EnableAdditionalFilters)return;if(Answers.MetadataSelector.EnableAdditionalFilters&&!Answers.MetadataSelector.DisplayAqAutocomplete&&!r){if(v=u?$(u.concat(" div.scopebox:first select")).val():$("#MetadataFilters div.scopebox:first select").val(),v==="")return;if(Answers.MetadataSelector.UniqueAqIds.length===0||Answers.MetadataSelector.UniqueAqIds.length>1||Answers.MetadataSelector.UniqueAqIds.length===1&&n.Id!==Answers.MetadataSelector.UniqueAqIds[0])return}u?$(u.concat(" div.scopebox:nth-child(3)")).remove():$("#MetadataFilters div.scopebox:nth-child(3)").remove()}var o=n.ShortName+"scope",s=$(".scopelist[data-level='0']").children(":selected").val(),f=$(".scopelist[data-level='2']").children(":selected").val(),c;if(c=t?n.Level===4?Answers.MetadataSelector.GetF1Level1Grandchildren(s,f):Answers.MetadataSelector.CurrentMetaValues[n.Id]:n.Children,n.Type===2&&n.Level===4&&Answers.MetadataSelector.DisplayAqAutocomplete){a=Answers.MetadataSelector.GetF1Level1Grandchildren(s,f);a.length>0?Answers.MetadataSelector.BuildAutoCompleteList(o,n,a,u):s===""&&f!==""?(e=Answers.MetadataSelector.GetSelectedItem(Answers.MetadataSelector.CurrentMetaTree,2,f),Answers.MetadataSelector.BuildAutoCompleteList(o,n,e.Children[0].Children,u)):s!==""&&f!==""?(y=Answers.MetadataSelector.GetSelectedItem(Answers.MetadataSelector.CurrentMetaTree,0,s),e=Answers.MetadataSelector.GetSelectedItem(y.Children[0],2,f),e.Children.length>0&&e.Children[0].Children.length>0&&Answers.MetadataSelector.BuildAutoCompleteList(o,n,e.Children[0].Children,u)):c.length>0&&Answers.MetadataSelector.BuildAutoCompleteList(o,n,c,u);return}Answers.MetadataSelector.BuildSelectList(o,n,c,r,u)},GetF1Level1Grandchildren:function(n,t){var r={},c,s,u,i,f,e,o,h,l;if(n!==""&&t==="")for(c=Answers.MetadataSelector.GetSelectedItem(Answers.MetadataSelector.CurrentMetaTree,0,n),s=c.Children[0].Children,u=0;u<s.length;u++)if(i=s[u],i.Children[0]!==null&&i.Children[0].Children!==null&&i.Children[0].Children.length>0&&(f=i.Children[0].Children,f.length>0))for(e=0;e<f.length;e++)o=f[e],r[o.Id]||(r[o.Id]=o);h=[];for(l in r)h.push(r[l]);return h},BuildSelectList:function(n,t,i,r,u){var c=Answers.MetadataSelector.DisplayRequiredAsterisk?'<span class="asterisk"> *<\/span>':"",o=t.Type===1&&t.Level===2?Answers.MetadataSelector.IsLevel2FilterOptional:Answers.MetadataSelector.IsFilterOptional,f,e=u?u.substr(1).toLowerCase()+"-":"",s,h;n=e+n;s=u?$(u.concat(" div.scopebox[data-scopefor='"+n+"'][id='metadataFilterItemLevel-"+e+t.Level+"']")):$("#metadataFilterItemLevel"+e+"-2");s.length>0&&t.Level===2&&s.remove();u?$(u).append('<div id="metadataFilterItemLevel-'+e+t.Level+'" class="scopebox metadataFilterItemLevel-'+t.Level+'" data-scopefor="'+n+'"><label class="filterHeader" for="'+n+'">'+t.DisplayName+(o?"":c)+'<\/label><select id="'+n+'" class="scopelist" data-level="'+t.Level+'" data-shortname="'+t.ShortName+'" data-metaid="'+t.Id+'"><\/select><\/div>'):$("#MetadataFilters").append('<div id="metadataFilterItemLevel-'+e+t.Level+'" class="scopebox metadataFIlterItemLevel'+t.Level+'" data-scopefor="'+n+'"><label class="filterHeader" for="'+n+'">'+t.DisplayName+(o?"":c)+'<\/label><select id="'+n+'" class="scopelist" data-level="'+t.Level+'" data-shortname="'+t.ShortName+'" data-metaid="'+t.Id+'"><\/select><\/div>');f=$("#"+n);f.data("optional",o);Answers.MetadataSelector.BuildOptionList(f,t,i,r);h=Answers.MetadataSelector.PreSelected[t.ShortName];h&&f.val(h);f.change(function(){var i;if(Answers.MetadataSelector.AllowTelemetry){if(this.hasAttribute("data-level")){var r=$(this).attr("data-level"),f=$(this).val(),t="awa-filterlevel"+r,n=$("meta[name="+t+"]");for(n.length>0?n.attr("content",f):$("head").append('<meta name="'+t+'" content="'+f+'">'),i=parseInt(r)+2;i<=6;i+=2)t="awa-filterlevel"+i,n=$("meta[name="+t+"]"),n.length>0&&n.attr("content","")}if(window.awa&&window.awa.ct)try{window.awa.ct.capturePageAction($(this),{})}catch(e){}}$(".error",$(this).closest(".scopebox")).remove();$(".scopelist[data-level='0']").removeClass("errorValidation");Answers.MetadataSelector.RemoveAutoCompleteList();Answers.MetadataSelector.NextFilter(this,u)});f.change();UpdateAnnouncementDropDown=function(){var u,n;if($("#AnnouncementScopeSelector").length!==0){var t=[],r=[],i=$("#AnnouncementScopeSelector")[0].options;if(i.length>2){for(u=i[2].value,$("#MetadataFilters .scopebox select>option:selected").each(function(){this.value==""||t.includes(this.value)||(t[t.length]=u+this.value,r[r.length]=this.innerHTML)}),n=i.length-1;n>2;n--)i[n]=null;for(n=0;n<t.length;n++)$("#AnnouncementScopeSelector").append('<option value="'+t[n]+'">'+r[n]+" only<\/option>")}}};$("#MetadataFilters .scopebox select").change(UpdateAnnouncementDropDown)},RemoveAutoCompleteList:function(){var t=$("#aqFilterDiv"),n;t.length>0&&t.remove();n=$("#notApplicableDiv");n.length>0&&n.remove()},BuildAutoCompleteList:function(n,t,i,r){var u,o,h,e,s,f;t.Type===2&&t.Level===4&&Answers.MetadataSelector.DisplayAqAutocomplete===!0&&(r?$(r).append('<div id="aqFilterDiv" class="scopebox"><label class="filterHeader" for="'+n+'">'+t.DisplayName+' :<\/label><input type="text" id="'+n+'" class="scopelist autocomplete" data-level="'+t.Level+'" data-shortname="'+t.ShortName+'" data-metaid="'+t.Id+'"><\/input><\/div>'):$("#MetadataFilters").append('<div id="aqFilterDiv" class="scopebox"><label class="filterHeader" for="'+n+'">'+t.DisplayName+' :<\/label><input type="text" id="'+n+'" class="scopelist autocomplete" data-level="'+t.Level+'" data-shortname="'+t.ShortName+'" data-metaid="'+t.Id+'"><\/input><\/div>'),u=$("#"+n),u.width("185px"),o=t.ShortName,u.kendoAutoComplete({minLength:Answers.Res.AutoCompleteMinLength,filter:"contains",dataTextField:"DisplayName",dataValueField:"ShortName",dataSource:i.map(function(n){return{Id:n.Id,ShortName:n.ShortName,DisplayName:n.DisplayName}}),select:function(n){var f=$.grep(i,function(t){return t.DisplayName===n.item.text()}),t,r;f&&(t=f[0],u.data("level",t.Level),u.data("shortname",t.ShortName),u.data("metaid",t.Id),r=$("#notApplicable"),t.ShortName===Answers.MetadataSelector.NotApplicableOptionShortName&&r.length>0?r.prop("checked",!0):r.prop("checked",!1),Answers.MetadataSelector.PreSelected[o]=t.ShortName);u.change()}}),h=u.data("kendoAutoComplete"),h.list.width(500),e=$.grep(i,function(n){return n.ShortName===Answers.MetadataSelector.NotApplicableOptionShortName}),e&&e.length>0&&Answers.MetadataSelector.ShowNotApplicableCheckBox(u,e,o),s=Answers.MetadataSelector.PreSelected[t.ShortName],s&&(f=$.grep(i,function(n){return n.ShortName===s}),f&&f.length>0&&(u.val(f[0].DisplayName),u.data("level",f[0].Level),u.data("shortname",f[0].ShortName),u.data("metaid",f[0].Id)),e!==null&&e.length>0&&f!==null&&f.length>0&&e[0].ShortName===f[0].ShortName&&$("#notApplicable").length>0&&($("#notApplicable").prop("checked",!0),u.prop("disabled",!0))))},ShowNotApplicableCheckBox:function(n,t,i){$("#notApplicableDiv").length>0&&$("#notApplicableDiv").remove();var r=t[0].DisplayName,u='<div id="notApplicableDiv"><input type="checkbox" id="notApplicable"><label for="notApplicable">'+r+"<\/label><\/div>";$(u).insertAfter($("#aqFilterDiv"));$("#notApplicable").click(function(){$("#notApplicable").is(":checked")?(n.data("level",t[0].Level),n.data("shortname",t[0].ShortName),n.data("metaid",t[0].Id),n.val(t[0].DisplayName),n.prop("disabled",!0),Answers.MetadataSelector.PreSelected[i]=t[0].ShortName):(n.data("level",""),n.data("shortname",""),n.data("metaid",""),n.val(""),n.prop("disabled",!1));n.change()})},BuildOptionList:function(n,t,i,r){(n.empty(),n.append('<option class="scopeitem" data-itemnum="-1" value="">'+Answers.MetadataSelector.DefaultOptionText+"<\/option>"),i)&&(r?i.sort(function(n,t){return n.Order-t.Order}):i.sort(function(n,t){return Answers.Util.CompareStringsLocale(n.DisplayName,t.DisplayName,Answers.Locale)}),$.each(i,function(t){n.append('<option class="scopeitem" data-itemnum="'+parseInt(t)+'" value="'+this.ShortName+'">'+this.DisplayName+"<\/option>")}))},NextFilter:function(n,t){var r=parseInt($(n).data("level"),10),i,o,u,s,f,e;if($.each($(".scopelist",t?t:"#MetadataFilters"),function(n,t){var i=parseInt($(t).data("level"),10);i>r&&$(t).parent().remove()}),$(n).val()===""){$.each(Answers.MetadataSelector.CurrentMetaValues,function(n){var i=Answers.MetadataSelector.CurrentMetaMap[n];i&&i.Level>r&&Answers.MetadataSelector.BuildListControl(i,!0,!1,t)});return}if(i=Answers.MetadataSelector.CurrentMetaTree,Answers.MetadataSelector.DisplayAqAutocomplete)o=$(".scopelist[data-level='"+r+"']").children(":selected").val(),u=Answers.MetadataSelector.GetSelectedItem(i,r,o),u&&u.Children.length>0&&(s=u.Children[0]||u,Answers.MetadataSelector.BuildListControl(s,!1,!0,t));else{for(f=0;f<=r;f+=2){if(e=t?parseInt($(t+" .scopelist[data-level="+f+"]").children(":selected").data("itemnum"),10)||0:parseInt($(".scopelist[data-level="+f+"]").children(":selected").data("itemnum"),10)||0,e===-1)return;i=i.Children[e].Children[0]}i&&Answers.MetadataSelector.BuildListControl(i,!1,!0,t)}},GetSelectedItem:function(n,t,i){var u,r;if(n.Level===t+1&&n.ShortName===i)return n;if(n.Level>t)return null;for(r=0;r<n.Children.length;r++)if(u=Answers.MetadataSelector.GetSelectedItem(n.Children[r],t,i),u)return u;return null},ValidateSelection:function(){var n=0;return $.each($(".scopelist"),function(t,i){if($(i).val()===""&&!$(i).data("optional")){n++;var r=$(i).data("metaid"),u=Answers.Res.NewThread.errorRequiredFilter.replace("{0}",Answers.MetadataSelector.CurrentMetaMap[r].DisplayName);$('<div class="error"><\/div>').text(u).insertAfter($(i));$(".scopelist[data-level='0']").addClass("errorValidation")}}),n===0},GetSelectedMetaDataList:function(){var n=[];return $.each($(".scopelist"),function(t,i){$(i).val()&&n.push($(i).data("shortname")+"="+$(i).val())}),n.join()},GetSelectedMetaValue:function(n){var t="",i=n?n+" ":"";return $.each($(i+".scopelist"),function(n,i){$(i).val()&&(t.length>0&&(t+="-"),t+=$(i).data("level")>=5?$(i).data("shortname"):$(i).val())}),t},TraverseMetaDataTree:function(n,t,i){i(n,t)&&$.each(n.Children,function(n,r){Answers.MetadataSelector.TraverseMetaDataTree(r,t+1,i)})}};Answers=Answers||{};answersResDefined=typeof Answers.Res!="undefined";answersUtilDefined=typeof Answers.Util!="undefined";Answers.ThreadList={IsV3Redesign:$("body").hasClass("v3"),IsScopeListChanging:!1,ContentType:{All:"all",Question:"questions",Discussion:"discussions",Articles:"articles",MyThreads:"mythreads",Feedback:"feedback"},QuestionStatusType:{Answered:"answered",Unanswered:"unanswered"},MetadataLoaded:!1,ThreadListOptions:{currentForum:"",currentSort:"",currentDirection:"",currentTab:"",currentMeta:"",currentMod:"",currentModAge:"",currentAdvFil:"",currentpostedAfter:"",currentpostedBefore:"",currentPage:1,currentMaxPage:-1,calendarIconUrl:"",postedBeforeAlt:"",postedAfterAlt:"",postedBeforeTitle:"",postedAfterTitle:"",showAQFilters:"",threadType:"",currentStatus:"",expandFilter:!1},UpdateForumAnnouncements:function(){var t=$("#currentForumId").val(),n=$("#announcementajax"),i=Answers.ThreadList.ThreadListOptions.currentMeta===""?"all":Answers.ThreadList.ThreadListOptions.currentMeta;$.get(Answers.Res.ThreadList.ForumAnnouncementUrl,{forumId:t,meta:i},function(t){n.html(t);n.show();Answers.Announcement.Initialize();Answers.Mwf.CreateComponents()})},ViewForumThreadList:function(n,t){n>1&&($("#featuredThreadsList").empty(),$("#featuredThreadsContainer").hide());Answers.ThreadList.ThreadListOptions.currentPage=n;var u=$("#currentForumId").val(),i=$("#threadsajax"),r=$("#threadListWait");i.hide();$("#forumSortSection").hide();r.show();$("#threadListError").hide();answersResDefined&&($("#applyButton").prop("disabled","disabled"),$.get(Answers.Res.ThreadList.ForumThreadListUrl,{forumId:u,sort:Answers.ThreadList.ThreadListOptions.currentSort,dir:Answers.ThreadList.ThreadListOptions.currentDirection,tab:Answers.ThreadList.ThreadListOptions.currentTab,meta:Answers.ThreadList.ThreadListOptions.currentMeta,status:Answers.ThreadList.ThreadListOptions.currentStatus,mod:Answers.ThreadList.ThreadListOptions.currentMod,modAge:Answers.ThreadList.ThreadListOptions.currentModAge,advFil:Answers.ThreadList.ThreadListOptions.currentAdvFil,postedAfter:Answers.ThreadList.ThreadListOptions.currentpostedAfter,postedBefore:Answers.ThreadList.ThreadListOptions.currentpostedBefore,page:n,threadType:Answers.ThreadList.ThreadListOptions.threadType,tm:(new Date).getTime()},function(u){var s,v,h,c,p,o,l,a,w;if(Answers.Util.ScrollToTop(),s=$("div.section-label-container"),i.html(u),r.hide(),(!n||n==1)&&(v=$(".c-card.isSticky").length,v>0)){if(h=$("#showMoreFeaturedItems").attr("data-f-show"),c=0,$(".c-card.isSticky").each(function(n){c++;$(this).appendTo("#featuredThreadsList");n<h?$(this).wrap("<div class='card-top-n'><\/div>"):$(this).wrap("<div class='card-overflow'><\/div>")}),c>h){$("#showMoreFeaturedItems").show();$("#featuredThreadsList .card-overflow").hide();$("#showMoreFeaturedItems").off("click").on("click",function(){$("#featuredThreadsList .card-overflow").is(":hidden")?($("#featuredThreadsList .card-overflow").show(),$("#featuredThreadsList .card-overflow .c-card").each(function(){var n=$(".card-body",this).height();$(".stats-line-container",this).height(n)}),$("#showMoreFeaturedItems").text($("#showMoreFeaturedItems").data("f-less"))):($("#featuredThreadsList .card-overflow").hide(),$("#showMoreFeaturedItems").text($("#showMoreFeaturedItems").data("f-more")));$("#featuredThreadsContainer").get(0).scrollIntoView()})}else $("#showMoreFeaturedItems").hide();$("#featuredThreadsContainer").show()}i.show();t==="sortArrowLink"?($("#threadsLoadMsgforSr").html($("#sortArrowLink").attr("aria-label")+" "+$("#threadsLoadMsgforSr").data("loadedmsg")),Answers.ThreadList.ThreadsLoadMsgforSr()):($("#threadsLoadMsgforSr").html($("#threadsLoadMsgforSr").data("loadedmsg")),Answers.ThreadList.ThreadsLoadMsgforSr());t==="applyButton"&&($("#featuredThreadsContainer").is(":visible")?$("#featuredThreadsContainer").find("a:first").focus():$("#allThreadsContainer").is(":visible")&&$("#allThreadsContainer").find("a:first").focus());s.length>0&&s.get(0).scrollIntoView();$(".ThreadsAjaxMessage .noResults").length===0?($("#forumSortSection").show(),$(".separator-pager").show()):$(".separator-pager").hide();$(".previewShowing, .previewWaiting").hide();$("#goToPageNum").val(n);Answers.ThreadList.ThreadListOptions.currentMaxPage=$(".currentMaxPage").val();$(".prevPage, .show-prev-page-mobile").off().on("click",function(n){return(n.preventDefault(),$(this).hasClass("disabled"))?!1:(Answers.ThreadList.ViewForumThreadList(--Answers.ThreadList.ThreadListOptions.currentPage,"prevPage"),Answers.ThreadList.ThreadsLoadMsgforSr(),!1)});$(".nextPage, .show-next-page-mobile").off().on("click",function(n){return(n.preventDefault(),$(this).hasClass("disabled"))?!1:(Answers.ThreadList.ViewForumThreadList(++Answers.ThreadList.ThreadListOptions.currentPage,"nextPage"),Answers.ThreadList.ThreadsLoadMsgforSr(),!1)});$(".goToSelectedPage").off().on("click",function(n){return(n.preventDefault(),$(this).hasClass("disabled"))?!1:(Answers.ThreadList.ViewForumThreadList($(this).data("value"),"goToSelectedPage"),Answers.ThreadList.ThreadsLoadMsgforSr(),!1)});$("#goToPageNumAjax").off().on({input:function(){$(this).blur().focus()},keyup:function(n){n.which!==13&&Answers.Util.ValidatePageOnlyNumbers(this)},keypress:function(n){if(n.which===13){var t=Answers.Util.ValidatePageValue(n,this.value,Answers.ThreadList.ThreadListOptions.currentPage,Answers.ThreadList.ThreadListOptions.currentMaxPage);return t>0&&(Answers.ThreadList.ViewForumThreadList(t,"goToPageNumAjax"),Answers.ThreadList.ThreadsLoadMsgforSr()),!1}}});var f=$("#postedAfter"),e=$("#postedBefore"),y=function(){var n=e.datepicker("getDate"),t=f.datepicker("getDate");n&&t&&n<t&&(n&&this.id===f.attr("id")?e.val(""):t&&f.val(""));f.datepicker("option","maxDate",e.val());e.datepicker("option","minDate",f.val())};f.change(y);e.change(y);e.on("keydown",function(n){n.which===37&&n.altKey&&event.preventDefault()});f.on("keydown",function(n){n.which===37&&n.altKey&&event.preventDefault()});p=document.location.pathname.substring(0,document.location.pathname.lastIndexOf("forum")+5);o=Answers.MetadataSelector.GetSelectedMetaValue();o=o.length>0?"/"+o:"";l="";a=Answers.Util.QueryString("from");a!=null&&(l="&from="+a);w=document.location.origin+p+o+"?sort="+Answers.ThreadList.ThreadListOptions.currentSort+"&dir="+Answers.ThreadList.ThreadListOptions.currentDirection+"&tab="+Answers.ThreadList.ThreadListOptions.currentTab+"&status="+Answers.ThreadList.ThreadListOptions.currentStatus+"&mod="+Answers.ThreadList.ThreadListOptions.currentMod+"&modAge="+Answers.ThreadList.ThreadListOptions.currentModAge+"&advFil="+Answers.ThreadList.ThreadListOptions.currentAdvFil+"&postedAfter="+Answers.ThreadList.ThreadListOptions.currentpostedAfter+"&postedBefore="+Answers.ThreadList.ThreadListOptions.currentpostedBefore+"&threadType="+Answers.ThreadList.ThreadListOptions.threadType+"&isFilterExpanded="+Answers.ThreadList.ThreadListOptions.expandFilter+"&page="+n+l;history.pushState(null,"",w);$(".c-card").each(function(){var n=$(".card-body",this).height();$(".stats-line-container",this).height(n)})},"html").fail(function(){$("#threadListError").show()}).always(function(){r.hide();Answers.ThreadList.IsScopeListChanging&&(Answers.ThreadList.IsScopeListChanging=!1);Answers.ThreadList.ActivateApplyButton()}))},InitDatePicker:function(){($("#postedAfter").length!==0||$("#postedBefore").length!==0)&&($(document).off("click focus",".datePicker"),$("<link/>",{rel:"stylesheet",type:"text/css",href:Answers.Res.jQueryUICSSUrl}).appendTo("head"),jQuery.datepicker?Answers.ThreadList.StartDatePicker():$.ajax({url:Answers.Res.jQueryUIUrl,dataType:"script",complete:function(){Answers.ThreadList.StartDatePicker()},cache:!0}))},StartDatePicker:function(){Answers.Res.DatePickerLocale===""?Answers.ThreadList.CompleteDatePicker():$.ajax({url:Answers.Res.DatePickerLocaleUrl,dataType:"script",complete:function(){Answers.ThreadList.CompleteDatePicker()},cache:!0})},CompleteDatePicker:function(){$.datepicker.setDefaults($.extend($.datepicker.regional[Answers.Res.DatePickerLocale]));var n=$("#postedAfter"),t=$("#postedBefore");n.datepicker({showOn:"both",changeMonth:!0,changeYear:!0,maxDate:t.val(),numberOfMonths:1,buttonImage:Answers.ThreadList.ThreadListOptions.calendarIconUrl,buttonImageOnly:!0});t.datepicker({showOn:"both",changeMonth:!0,changeYear:!0,minDate:n.val(),numberOfMonths:1,buttonImage:Answers.ThreadList.ThreadListOptions.calendarIconUrl,buttonImageOnly:!0});$(".ui-datepicker-trigger:first").attr({alt:Answers.ThreadList.ThreadListOptions.postedAfterAlt,title:Answers.ThreadList.ThreadListOptions.postedAfterTitle,id:"postedAfterImage"});$(".ui-datepicker-trigger:last").attr({alt:Answers.ThreadList.ThreadListOptions.postedBeforeAlt,title:Answers.ThreadList.ThreadListOptions.postedBeforeTitle,id:"postedBeforeImage"})},AdvancedOptionFilterClick:function(){var n=[];$(".AdvancedOptionFilter:checked").each(function(){$(this).is(":visible")&&n.push($(this).attr("filterName"))});var r=$("#currentATFUrl").val(),t="",i="";$("#postedAfter").length>0&&(t=$("#postedAfter").val()===""?"":$("#postedAfter").datepicker("getDate").getFullYear()+"-"+Answers.Util.PadZeros($("#postedAfter").datepicker("getDate").getMonth()+1,2)+"-"+Answers.Util.PadZeros($("#postedAfter").datepicker("getDate").getDate(),2));$("#postedBefore").length>0&&(i=$("#postedBefore").val()===""?"":$("#postedBefore").datepicker("getDate").getFullYear()+"-"+Answers.Util.PadZeros($("#postedBefore").datepicker("getDate").getMonth()+1,2)+"-"+Answers.Util.PadZeros($("#postedBefore").datepicker("getDate").getDate(),2));Answers.ThreadList.ThreadListOptions.currentAdvFil=n.toString();Answers.ThreadList.ThreadListOptions.currentpostedAfter=t;Answers.ThreadList.ThreadListOptions.currentpostedBefore=i},PopulateAdvancedFilterBar:function(){var n=$("#currentTab").val(),t=typeof n=="string"?n.toLowerCase():"";$("#advancedFilterBarOptions").show();$.get(Answers.Res.ThreadList.AdvancedFilterBarOptionsUrl,{selectedAdvancedFilter:Answers.ThreadList.ThreadListOptions.currentAdvFil,tm:(new Date).getTime()},function(n){$("#advancedFilterBarOptions").html(n);$(document).on("change","input[name=ProfileFilter]",function(){var n=$("input[name=ProfileFilter]:checked").map(function(){return $(this).val()}).get();Answers.ThreadList.ThreadListOptions.currentAdvFil=n.join(",");$("#currentAdvFil").val(Answers.ThreadList.ThreadListOptions.currentAdvFil);Answers.ThreadList.ActivateApplyButton()});Answers.ThreadList.SetFilterChecBoxState()},"html")},GetForumModeratorMenu:function(){$("#moderatorFilter").length!==0&&$.get(Answers.Res.ThreadList.ForumThreadListModeratorFilterUrl,{forumName:Answers.ThreadList.ThreadListOptions.currentForum,mod:Answers.ThreadList.ThreadListOptions.currentMod,modAge:Answers.ThreadList.ThreadListOptions.currentModAge,showThreadAge:!(Answers.ThreadList.ThreadListOptions.currentpostedAfter||Answers.ThreadList.ThreadListOptions.currentpostedBefore),currentTab:Answers.ThreadList.ThreadListOptions.currentTab,threadType:Answers.ThreadList.ThreadListOptions.threadType,tm:(new Date).getTime()},function(n){$("#moderatorFilter").html(n);$("input.mod-filter").on("change",function(){var n=[];$("input.mod-filter").each(function(){$(this).is(":checked")&&n.push($(this).val())});Answers.ThreadList.ThreadListOptions.currentMod=n.join()});Answers.ThreadList.ActivateApplyButton()},"html")},ForumEventHandler:function(){Answers.MetadataSelector.AllowTelemetry=!0;$(document).on("change","#forumSelect",function(){var n=Answers.ThreadList.ThreadListOptions.showAQFilters==="true";if(Answers.ThreadList.ThreadListOptions.currentForum=$(this).find("option:selected").val(),window.awa&&window.awa.ct)try{window.awa.ct.capturePageAction($(this),{})}catch(t){}Answers.MetadataSelector.DisplayRequiredAsterisk=!1;Answers.MetadataSelector.GetFilters(Answers.ThreadList.ThreadListOptions.currentForum,null,n,!1,!1,Answers.MetadataSelector.AqControlType.AutoCompleteTextBox);Answers.ThreadList.GetForumModeratorMenu();Answers.ThreadList.ActivateApplyButton()});$(document).on("change",".scopelist",function(){Answers.ThreadList.IsScopeListChanging||(Answers.ThreadList.IsScopeListChanging=!0,Answers.ThreadList.ApplyCurrentFilters("scopelist"))});$("#selectThreadType").on("change.changeThreadType, keyup.changeThreadType",function(n){var t=n.which;t&&t!==40&&t!==38||(Answers.ThreadList.PopulateAdvancedFilterBar(),Answers.ThreadList.ActivateApplyButton())});$(document).on("click","input[name=threadTypeOption]",function(){var n=$("#thread-option-answered").is(":checked"),t=$("#thread-option-unanswered").is(":checked");(n||t)&&Answers.ThreadList.ActivateApplyButton()});$(document).on("click keypress","#toggleFilterVisibility",function(n){(n.preventDefault(),n.type!=="keypress"||n.keyCode===13||n.keyCode===32)&&($("#filterSection").is(":visible")?($("#filterSection").hide(),$("#toggleFilterVisibility").text(Answers.Res.ThreadList.ShowFilters),$("#filtersLabel").hide(),Answers.ThreadList.ThreadListOptions.expandFilter=!1):($("#filterSection").show(),$("#toggleFilterVisibility").text(Answers.Res.ThreadList.HideFilters),$("#filtersLabel").show(),Answers.ThreadList.ThreadListOptions.expandFilter=!0))});$(document).on("click","#applyButton",function(){$(this).prop("disabled")!==!0&&Answers.ThreadList.ApplyCurrentFilters("applyButton")});$(document).on("change","#postedAfter, #postedBefore",function(){Answers.ThreadList.ActivateApplyButton()});$("#filter-link").on("click",function(){$("#filter-wrapper").toggle(50);$("#separator-line-forum").removeClass("hidden-xs");$("#filter-container-sm #SearchFilterSection").length===0&&$("#filter-container-sm").append($("#SearchFilterSection"))})},ActivateApplyButton:function(){$("#applyButton").prop("disabled",!1)},ApplyCurrentFilters:function(n){var t,u=$("input[name='threadType']:checked").val(),i,r;switch(u){case"questions":t="tabQuestions";break;case"discussions":t="tabDiscussions";break;case"mythreads":t="tabMyThreads";break;case"articles":t="tabArticles";break;case"feedback":t="tabFeedback";break;case"all":t="tabAll"}Answers.ThreadList.ApplyFilters(t);Answers.ThreadList.ViewForumThreadList(1,n);Answers.ThreadList.UpdateForumAnnouncements();Answers.ThreadList.GetSortOptions();i=$("#currentForum").val();r=$("#currentMeta").val();Answers.Util.UpdateCreateThreadLink("#AnsAskQuestionMenuItem",i,r);Answers.Util.UpdateCreateThreadLink("#createQuestionMenu",i,r);Answers.Util.UpdateCreateThreadLink("#createDiscussionMenu",i,r);Answers.Util.UpdateCreateThreadLink("#createForumArticleMenu",i,r)},ApplyFilters:function(n){$("#SearchFilterSection input, #SearchFilterSection select").prop("disabled",!0);Answers.ThreadList.ThreadListOptions.currentMeta=Answers.MetadataSelector.GetSelectedMetaValue();switch(n){case"tabAll":Answers.ThreadList.ThreadListOptions.threadType=Answers.ThreadList.ContentType.All;Answers.ThreadList.ThreadListOptions.currentTab="All";Answers.ThreadList.ThreadListOptions.currentStatus="all";break;case"tabQuestions":Answers.ThreadList.ThreadListOptions.threadType=Answers.ThreadList.ContentType.Question;Answers.ThreadList.ThreadListOptions.currentTab="Threads";var t=$("#thread-option-answered").is(":checked"),i=$("#thread-option-unanswered").is(":checked");Answers.ThreadList.ThreadListOptions.currentStatus=t&&i||!t&&!i?"all":t?"answered":"unanswered";break;case"tabDiscussions":Answers.ThreadList.ThreadListOptions.threadType=Answers.ThreadList.ContentType.Discussion;Answers.ThreadList.ThreadListOptions.currentTab="Discussions";Answers.ThreadList.ThreadListOptions.currentStatus="";break;case"tabMyThreads":Answers.ThreadList.ThreadListOptions.threadType=Answers.ThreadList.ContentType.MyThreads;Answers.ThreadList.ThreadListOptions.currentTab=Answers.ThreadList.ContentType.MyThreads;Answers.ThreadList.ThreadListOptions.currentStatus="";break;case"tabArticles":Answers.ThreadList.ThreadListOptions.threadType=Answers.ThreadList.ContentType.Articles;Answers.ThreadList.ThreadListOptions.currentTab="Article";Answers.ThreadList.ThreadListOptions.currentStatus="";break;case"tabFeedback":Answers.ThreadList.ThreadListOptions.threadType=Answers.ThreadList.ContentType.Feedback;Answers.ThreadList.ThreadListOptions.currentStatus=""}Answers.ThreadList.AdvancedOptionFilterClick();$("#featuredThreadsList").empty();$("#featuredThreadsContainer").hide()},SetFilterChecBoxState:function(){var n=$("input[name='threadType']:checked").val();$("#threadStatusType input").prop("disabled",!1);$("#advancedFilterOptionBar input").prop("disabled",!1);$(".filter-checkbox-group input").prop("disabled",!1);(n==="questions"||n==="mythreads")&&$("#mod-filter-Unpublished").prop("disabled","disabled");n==="discussions"&&($("#threadStatusType input").prop("disabled","disabled"),$("#advancedFilterOptionBar input").prop("disabled","disabled"),$("#mod-filter-NeedsAnswer").prop("disabled","disabled"),$("#mod-filter-Unpublished").prop("disabled","disabled"));n==="articles"&&($("#threadStatusType input").prop("disabled","disabled"),$("#advancedFilterOptionBar input").prop("disabled","disabled"),$("#mod-filter-NeedsAnswer").prop("disabled","disabled"),$("#mod-filter-PrivateMessages").prop("disabled","disabled"),$("#mod-filter-Escalated").prop("disabled","disabled"));n==="all"&&($("#threadStatusType input").prop("disabled","disabled"),$("#advancedFilterOptionBar input").prop("disabled","disabled"),$("#mod-filter-NeedsAnswer").prop("disabled","disabled"),$("#mod-filter-PrivateMessages").prop("disabled","disabled"),$("#mod-filter-Escalated").prop("disabled","disabled"),$("#mod-filter-Unpublished").prop("disabled","disabled"))},GetSortOptions:function(){$.get(Answers.Res.ThreadList.ForumSortOptionsUrl,{sort:Answers.ThreadList.ThreadListOptions.currentSort,dir:Answers.ThreadList.ThreadListOptions.currentDirection,tab:Answers.ThreadList.ThreadListOptions.currentTab,threadType:Answers.ThreadList.ThreadListOptions.threadType,tm:(new Date).getTime()},function(n){var t=$("#sortOptions");t.replaceWith(n)},"html");$.get(Answers.Res.ThreadList.ForumSortControlsUrl,{sort:Answers.ThreadList.ThreadListOptions.currentSort,dir:Answers.ThreadList.ThreadListOptions.currentDirection,tab:Answers.ThreadList.ThreadListOptions.currentTab,threadType:Answers.ThreadList.ThreadListOptions.threadType,tm:(new Date).getTime()},function(n){var t=$("#threadListSelectedSort"),i;t.text(n.currentSortDisplayText);n.ariaLabelAttr===""?t.hasAttribute("aria-label")&&t.removeAttr("aria-label"):t.attr("aria-label",n.ariaLabelAttr);$("#sortArrowLink").attr("aria-label",n.sortArrowTitle);$("#sortArrowLink span.sort-tooltip").text(n.sortArrowTitle);Answers.SearchResults&&(i=Answers.SearchResults.SearchListOptions.currentDirection==="Desc"?"Asc":"Desc",$("#sortArrowLink").attr("data-bi-name",Answers.SearchResults.SearchListOptions.currentSort+"_"+i))},"json")},ThreadsLoadMsgforSr:function(){var n=$("#threadsLoadMsgforSr");n.length&&($("#threadsLoadMsgforSr").show(),setTimeout(function(){$("#threadsLoadMsgforSr").hide()},5e3))},Initialize:function(){var i,r,u,n,t;Answers.ThreadList.ThreadListOptions.currentForum=$("#currentForum").val();Answers.ThreadList.ThreadListOptions.currentSort=$("#currentSort").val();Answers.ThreadList.ThreadListOptions.currentDirection=$("#currentDirection").val();Answers.ThreadList.ThreadListOptions.currentTab=$("#currentTab").val();Answers.ThreadList.ThreadListOptions.currentMeta=$("#currentMeta").val();Answers.ThreadList.ThreadListOptions.currentStatus=$("#currentStatus").val();Answers.ThreadList.ThreadListOptions.currentMod=$("#currentMod").val();Answers.ThreadList.ThreadListOptions.currentModAge=$("#currentModAge").val();Answers.ThreadList.ThreadListOptions.currentPage=$("#currentPage").val();Answers.ThreadList.ThreadListOptions.currentAdvFil=$("#currentAdvFil").val();Answers.ThreadList.ThreadListOptions.currentpostedAfter=$("#currentpostedAfter").val();Answers.ThreadList.ThreadListOptions.currentpostedBefore=$("#currentpostedBefore").val();Answers.ThreadList.ThreadListOptions.calendarIconUrl=$("#calendarIconUrl").val();Answers.ThreadList.ThreadListOptions.postedBeforeAlt=$("#postedBeforeAlt").val();Answers.ThreadList.ThreadListOptions.postedAfterAlt=$("#postedAfterAlt").val();Answers.ThreadList.ThreadListOptions.postedBeforeTitle=$("#postedBeforeTitle").val();Answers.ThreadList.ThreadListOptions.postedAfterTitle=$("#postedAfterTitle").val();Answers.ThreadList.ThreadListOptions.showAQFilters=$("#showAQFilters").val();Answers.ThreadList.ThreadListOptions.threadType=$("#selectedThreadType").val();Answers.MetadataSelector.DefaultOptionText=answersResDefined?Answers.Res.ThreadList.ShowAll:"";Answers.MetadataSelector.OnFiltersLoaded=function(n){n===1&&Answers.ThreadList.ForumEventHandler();var t=$("#applied-filters").text();$("#MetadataFilters .scopebox select>option:selected").each(function(){var n=this;n.value!==""&&(t+=" | "+n.text)});$("#applied-filters").text(t);Answers.MetadataSelector.OnFiltersLoaded=null};i=Answers.ThreadList.ThreadListOptions.showAQFilters==="true";Answers.MetadataSelector.DisplayRequiredAsterisk=!1;r=$("#currentForum").val();u=$("#currentMetaString").val();Answers.ThreadList.ThreadListOptions.currentPage=$("#currentPage").val();Answers.ThreadList.ViewForumThreadList(Answers.ThreadList.ThreadListOptions.currentPage,"Initialize");$(window).load(function(){Answers.MetadataSelector.GetFilters(r,u,i,!1,!1,Answers.MetadataSelector.AqControlType.AutoCompleteTextBox);Answers.ThreadList.GetForumModeratorMenu();Answers.ThreadList.InitDatePicker();Answers.ThreadList.PopulateAdvancedFilterBar()});$("#expandFilter").val()==="true"?($("#filterSection").show(),$("#filtersLabel").show(),$("#toggleFilterVisibility").text(Answers.Res.ThreadList.HideFilters),Answers.ThreadList.ThreadListOptions.expandFilter=!0):($("#filterSection").hide(),$("#filtersLabel").hide(),$("#toggleFilterVisibility").text(Answers.Res.ThreadList.ShowFilters),Answers.ThreadList.ThreadListOptions.expandFilter=!1);!0&&$("#ContentCreationLink").is(":visible")&&$("#ContentCreationLink").css("left")==="0px"&&$(".heading-md").css("margin-top","40px");n=$("#currentForum").val();t=$("#currentMeta").val();answersUtilDefined&&(Answers.Util.UpdateCreateThreadLink("#AnsAskQuestionMenuItem",n,t),Answers.Util.UpdateCreateThreadLink("#createQuestionMenu",n,t),Answers.Util.UpdateCreateThreadLink("#createDiscussionMenu",n,t),Answers.Util.UpdateCreateThreadLink("#createForumArticleMenu",n,t));Answers.ThreadList.SetFilterChecBoxState();$(document).on("click","#sortOptions li a",function(){var n=$(this).parent().attr("id").split("_");Answers.ThreadList.ThreadListOptions.currentSort=n[1];Answers.ThreadList.ApplyCurrentFilters("sortOptions");$("#sortOptions").attr("aria-hidden","true");$("#threadListSelectedSort").text($(this).text());$("#threadListSortList").focus();event.preventDefault()});$(document).on("keydown","#sortOptions li a",function(n){if(n.which===9){var t=$(this),i=$("#sortOptions li:first-child a"),r=$("#sortOptions li:last-child a");n.shiftKey?t.html()===i.html()&&(r.focus(),event.preventDefault()):t.html()===r.html()&&(i.focus(),event.preventDefault())}n.which===27&&($("#threadListSelectedSort").focus(),event.preventDefault())});$(document).on("keydown","#threadListSelectedSort",function(n){n.which===9&&n.shiftKey&&$("#sortOptions").attr("aria-hidden")==="false"&&$("#sortOptions").attr("aria-hidden","true")});$(document).on("click keyup","#sortArrowLink",function(n){(n.type!=="keyup"||n.which===13)&&(Answers.ThreadList.ThreadListOptions.currentDirection==="Asc"?(Answers.ThreadList.ThreadListOptions.currentDirection="Desc",$("#sortArrowLink .c-glyph").removeClass("glyph-up").addClass("glyph-down")):(Answers.ThreadList.ThreadListOptions.currentDirection="Asc",$("#sortArrowLink .c-glyph").removeClass("glyph-down").addClass("glyph-up")),Answers.ThreadList.ApplyCurrentFilters("sortArrowLink"),event.preventDefault())});$(document).on("change","input[name='threadType']",function(){Answers.ThreadList.SetFilterChecBoxState()})}};$(document).ready(function(){Answers.ThreadList.Initialize()});
//# sourceMappingURL=bundle.threadlistV3.min.js.map